&НаКлиенте
Процедура ЗапускИгры()
    Уровень = ВыбратьУровень();
    Если Уровень = Неопределено Тогда
        Возврат;
    КонецЕсли;

    МаксимальноеЧисло = ПолучитьМаксимальноеЧисло(Уровень);
    ЗагаданноеЧисло = СлучайноеЧисло(1, МаксимальноеЧисло);
    Попытки = 0;

    Пока Истина Цикл
        Попытка = ВводЧисла(МаксимальноеЧисло);
        Если Попытка = Неопределено Тогда
            Сообщить("Игра окончена.");
            Возврат;
        КонецЕсли;

        Попытки = Попытки + 1;

        Если Попытка < ЗагаданноеЧисло Тогда
            Сообщить("Загаданное число больше.");
        ИначеЕсли Попытка > ЗагаданноеЧисло Тогда
            Сообщить("Загаданное число меньше.");
        Иначе
            Сообщить("Поздравляем! Вы угадали число за " + Строка(Попытки) + " попыток.");
            Возврат;
        КонецЕсли;
    КонецЦикла;
КонецПроцедуры

&НаКлиенте
Функция ВыбратьУровень()
    Уровни = Новый Массив;
    Уровни.Добавить("Легкий (1-10)");
    Уровни.Добавить("Средний (1-100)");
    Уровни.Добавить("Сложный (1-1000)");

    Выбор = ВыборИзСписка(Уровни, "Выберите уровень сложности:");
    Если Выбор = Неопределено Тогда
        Возврат Неопределено;
    КонецЕсли;

    Возврат Выбор;
КонецФункции

&НаКлиенте
Функция ПолучитьМаксимальноеЧисло(Уровень)
    Если Уровень = "Легкий (1-10)" Тогда
        Возврат 10;
    ИначеЕсли Уровень = "Средний (1-100)" Тогда
        Возврат 100;
    ИначеЕсли Уровень = "Сложный (1-1000)" Тогда
        Возврат 1000;
    КонецЕсли;

    Возврат 10; // по умолчанию
КонецФункции

&НаКлиенте
Функция СлучайноеЧисло(Минимум, Максимум)
    Возврат Целое(Минимум + (Случайное() * (Максимум - Минимум + 1)));
КонецФункции

&НаКлиенте
Функция ВводЧисла(МаксимальноеЧисло)
    Ввод = ВводЧисла("Введите ваше число от 1 до " + Строка(МаксимальноеЧисло) + " или нажмите 'Cancel' для выхода:");
    Если Ввод = Неопределено Тогда
        Возврат Неопределено;
    КонецЕсли;

    Если Ввод < 1 Или Ввод > МаксимальноеЧисло Тогда
        Сообщить("Пожалуйста, введите число в пределах от 1 до " + Строка(МаксимальноеЧисло) + ".");
        Возврат ВводЧисла(МаксимальноеЧисло);
    КонецЕсли;

    Возврат Ввод;
КонецФункции
